(this["webpackJsonptodo-react-app"]=this["webpackJsonptodo-react-app"]||[]).push([[0],{106:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(19),i=n.n(r),o=n(15),s=n(14),u=n(23),j=n.n(u),l=n(40),d=n(18),b=(n(81),n(129)),p=n(121),O=n(122),f=n(123),m=n(124),h=n(64),x=n.n(h),g=n(65),v=n.n(g),D=n(3),w=function(t){var e=t.setFilter,n=function(t){return function(){return e((function(e){return Object(o.a)(Object(o.a)({},e),{},{filterType:t})}))}},c=function(t){return function(){return e((function(e){return Object(o.a)(Object(o.a)({},e),{},{sortDirection:t})}))}};return Object(D.jsx)(b.a,{mt:2,children:Object(D.jsxs)(p.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(D.jsxs)(b.a,{children:[Object(D.jsx)(O.a,{onClick:n(W),size:"small",children:"All"}),Object(D.jsx)(O.a,{onClick:n(q),children:"Done"}),Object(D.jsx)(O.a,{onClick:n(G),children:"Undone"})]}),Object(D.jsxs)(b.a,{children:[Object(D.jsx)(f.a,{display:"inline",children:"Sort by Date"}),Object(D.jsx)(m.a,{onClick:c(!0),children:Object(D.jsx)(x.a,{})}),Object(D.jsx)(m.a,{onClick:c(!1),children:Object(D.jsx)(v.a,{})})]})]})})},I=n(125),k=n(131),y=Object(I.a)((function(t){return{inputForm:{padding:[t.spacing(1),t.spacing(1)].join(" "),marginTop:t.spacing(2),width:"100%"}}})),T=function(t){var e=t.addItem,n=y(),a=Object(c.useState)(""),r=Object(d.a)(a,2),i=r[0],o=r[1];return Object(D.jsx)(k.a,{className:n.inputForm,type:"text",placeholder:"i want to ...",value:i,onChange:function(t){o(t.target.value)},onKeyDown:function(t){if("Enter"===t.code){var n={id:Date.now(),value:i,date:(new Date).toLocaleDateString().replace(/\./g,"/")};e((function(t){return[].concat(Object(s.a)(t),[n])})),o("")}}})},C=n(126),S=n(66),A=n.n(S),L=n(67),E=n.n(L),N=Object(I.a)((function(t){return{listItem:{borderRadius:"5px",border:"1px solid"+t.palette.grey[400],marginTop:t.spacing(1)},completed:{background:"#eaffe9",transition:"all .4s",borderColor:t.palette.success.main},hiddenInput:{width:"100px"}}})),F=function(t){var e=t.toDoListItem,n=t.setToDoListItems,a=N(),r=Object(c.useState)(!0),i=Object(d.a)(r,2),u=i[0],j=i[1];return Object(D.jsx)(C.a,{className:e.done?[a.listItem,a.completed].join(" "):a.listItem,onClick:function(t){t.stopPropagation(),j(!1)},children:Object(D.jsxs)(p.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(D.jsxs)(b.a,{children:[Object(D.jsx)(m.a,{size:"small",onClick:function(t){t.stopPropagation(),n((function(t){var n=Object(s.a)(t);return n.find((function(t){return t.uuid===e.uuid})).done=!0,Object(s.a)(n)}))},className:"icon-button",children:Object(D.jsx)(A.a,{})}),u?Object(D.jsx)(f.a,{component:"span",children:e.name}):Object(D.jsx)(k.a,{autoFocus:!0,onBlur:function(){return j(!0)},onKeyDown:function(t){"Enter"===t.code&&(n((function(n){var c=Object(s.a)(n),a=c.findIndex((function(t){return t.uuid===e.uuid}));return c[a]=Object(o.a)(Object(o.a)({},c[a]),{},{name:t.target.value,updatedAt:(new Date).toISOString()}),Object(s.a)(c)})),j(!0)),"Escape"===t.code&&j(!0)},defaultValue:e.name})]}),Object(D.jsxs)(b.a,{children:[Object(D.jsx)(f.a,{component:"span",children:e.updatedAt.substr(0,10)}),Object(D.jsx)(m.a,{size:"small",onClick:function(t){t.stopPropagation(),n((function(t){return Object(s.a)(t).filter((function(t){return t.uuid!==e.uuid}))}))},className:"icon-button",children:Object(D.jsx)(E.a,{})})]})]})})},z=n(127),M=function(t){var e=t.showToDoListItems,n=t.setToDoListItems;return Object(D.jsx)(z.a,{children:e.map((function(t){return Object(D.jsx)(F,{toDoListItem:t,setToDoListItems:n},t.uuid)}))})},P=function(t){return new Date(t).getTime()},B=n(128),J=n(130),K=n(68),R=n(69),U=n.n(R),V=function t(){Object(K.a)(this,t)};V.getAll=Object(l.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("https://todo-api-learning.herokuapp.com/v1/tasks/4");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));var W="all",q="done",G="undone";var H=function(){var t=Object(c.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)({sortDirection:!0,filterType:W}),i=Object(d.a)(r,2),u=i[0],b=i[1],O=Object(c.useState)({page:1,limit:5}),m=Object(d.a)(O,2),h=m[0],x=m[1],g=Object(c.useState)([]),v=Object(d.a)(g,2),I=v[0],k=v[1];Object(c.useEffect)((function(){(function(){var t=Object(l.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.getAll();case 2:e=t.sent,a(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){a((function(t){return Object(s.a)(t).sort((function(t,e){return u.sortDirection?P(e.updatedAt)-P(t.updatedAt):P(t.updatedAt)-P(e.updatedAt)}))}))}),[u.sortDirection]),Object(c.useEffect)((function(){switch(u.filterType){case q:k(Object(s.a)(n.filter((function(t){return t.done}))));break;case G:k(Object(s.a)(n.filter((function(t){return!t.done}))));break;default:k(Object(s.a)(n))}}),[n,u]),Object(c.useEffect)((function(){x((function(t){return Object(o.a)(Object(o.a)({},t),{},{page:1})}))}),[u.filterType]);var y=Object(c.useMemo)((function(){return I.slice((h.page-1)*h.limit,(h.page-1)*h.limit+h.limit)}),[I,h.page]);return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(B.a,{maxWidth:"sm",children:Object(D.jsxs)(p.a,{container:!0,direction:"column",children:[Object(D.jsx)(f.a,{variant:"h4",component:"h1",align:"center",children:"ToDo"}),Object(D.jsx)(T,{addItem:a}),Object(D.jsx)(w,{setFilter:b}),Object(D.jsx)(M,{showToDoListItems:y,setToDoListItems:a}),Object(D.jsx)(J.a,{count:Math.ceil(I.length/h.limit),onChange:function(t,e){return x((function(t){return Object(o.a)(Object(o.a)({},t),{},{page:e})}))},page:h.page,className:"todo-pagination"})]})})})};i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(H,{})}),document.getElementById("root"))},81:function(t,e,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.960f00c6.chunk.js.map