(this["webpackJsonptodo-react-app"]=this["webpackJsonptodo-react-app"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),s=n.n(c),i=n(16),u=n(5),o=n.n(u),j=n(12),l=n(19),p=(n(82),n(130)),f=n(122),d=n(123),b=n(124),O=n(125),h=n(65),x=n.n(h),m=n(66),v=n.n(m),g=n(3),k=function(e){var t=e.setFilter,n=function(e){return function(){return t((function(t){return Object(i.a)(Object(i.a)({},t),{},{filterType:e})}))}},r=function(e){return function(){return t((function(t){return Object(i.a)(Object(i.a)({},t),{},{sortDirection:e})}))}};return Object(g.jsx)(p.a,{mt:2,children:Object(g.jsxs)(f.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(g.jsxs)(p.a,{children:[Object(g.jsx)(d.a,{onClick:n(X),children:"All"}),Object(g.jsx)(d.a,{onClick:n(Y),children:"Done"}),Object(g.jsx)(d.a,{onClick:n(Z),children:"Undone"})]}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(b.a,{display:"inline",children:"Sort by Date"}),Object(g.jsx)(O.a,{onClick:r(!0),children:Object(g.jsx)(x.a,{})}),Object(g.jsx)(O.a,{onClick:r(!1),children:Object(g.jsx)(v.a,{})})]})]})})},w=n(23),y=n(126),T=n(132),C=n(67),E=n(68),A=n(34),D=n.n(A),I=function(e){return new Date(e).getTime()},N=function(e){return["https://todo-api-learning.herokuapp.com/v1",e].join("")},S=function(){function e(){Object(C.a)(this,e)}return Object(E.a)(e,null,[{key:"getAll",value:function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(N("/tasks/2"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"creat",value:function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post(N("/task/2"),{name:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"edit",value:function(){var e=Object(j.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/task/2/".concat(t),e.next=3,D.a.patch(N(r),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/task/2/".concat(t),e.next=3,D.a.delete(N(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),F=function(e,t){return Object(j.a)(o.a.mark((function n(){var r=arguments;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.apply(void 0,r);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),t(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))},M=Object(y.a)((function(e){return{inputForm:{padding:[e.spacing(1),e.spacing(1)].join(" "),marginTop:e.spacing(2),width:"100%"}}})),P=function(e){var t=e.setTasks,n=e.setError,a=M(),c=Object(r.useState)(""),s=Object(l.a)(c,2),i=s[0],u=s[1],p=F(function(){var e=Object(j.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.creat(n);case 2:r=e.sent,t((function(e){return[].concat(Object(w.a)(e),[r])})),u("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n);return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(T.a,{className:a.inputForm,type:"text",placeholder:"i want to ...",value:i,onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&i.trim()&&p(i)}})})},z=n(127),B=n(69),J=n.n(B),K=n(70),R=n.n(K),U=Object(y.a)((function(e){return{listItem:{borderRadius:"5px",border:"1px solid"+e.palette.grey[400],marginTop:e.spacing(1)},completed:{background:"#eaffe9",transition:"all .4s",borderColor:e.palette.success.main},hiddenInput:{width:"100px"}}})),V=function(e){var t=e.task,n=e.setTasks,a=e.setError,c=U(),s=Object(r.useState)(!0),i=Object(l.a)(s,2),u=i[0],d=i[1],h=F(function(){var e=Object(j.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.delete(t.uuid);case 2:n((function(e){return Object(w.a)(e).filter((function(e){return e.uuid!==r}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a),x=function(){var e=Object(j.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),h(t.uuid);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=F(function(){var e=Object(j.a)(o.a.mark((function e(r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.edit(r,a);case 2:c=e.sent,n((function(e){return Object(w.a)(e).map((function(e){return e.uuid===t.uuid?c:e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a);return Object(g.jsx)(z.a,{className:t.done?[c.listItem,c.completed].join(" "):c.listItem,onClick:function(e){e.stopPropagation(),d(!1)},children:Object(g.jsxs)(f.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(g.jsxs)(p.a,{children:[Object(g.jsx)(O.a,{size:"small",onClick:function(e){e.stopPropagation(),m(t.uuid,{done:!0})},className:"icon-button",children:Object(g.jsx)(J.a,{})}),u?Object(g.jsx)(b.a,{component:"span",children:t.name}):Object(g.jsx)(T.a,{autoFocus:!0,onBlur:function(){return d(!0)},onKeyDown:function(e){"Enter"===e.code&&(m(t.uuid,{name:e.target.value}),d(!0)),"Escape"===e.code&&d(!0)},defaultValue:t.name})]}),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(b.a,{component:"span",children:t.createdAt.substr(0,10)}),Object(g.jsx)(O.a,{size:"small",onClick:x,className:"icon-button",children:Object(g.jsx)(R.a,{})})]})]})})},W=n(128),q=function(e){var t=e.displayedTasks,n=e.setTasks,r=e.setError;return Object(g.jsx)(W.a,{children:t.map((function(e){return Object(g.jsx)(V,{task:e,setTasks:n,setError:r},e.uuid)}))})},G=n(129),H=n(131),L=Object(y.a)((function(e){return{error:{display:"block",textAlign:"center",background:e.palette.error.light,borderRadius:"5px",padding:"8px 24px"}}})),Q=function(e){var t=e.children,n=e.setError,a=e.time,c=L();return Object(r.useEffect)((function(){setTimeout((function(){n("")}),a)})),Object(g.jsx)(p.a,{p:1,children:Object(g.jsx)(b.a,{component:"span",className:c.error,children:t})})},X="all",Y="done",Z="undone";var $=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(l.a)(c,2),u=s[0],p=s[1],d=Object(r.useState)({sortDirection:!0,filterType:X}),O=Object(l.a)(d,2),h=O[0],x=O[1],m=Object(r.useState)({page:1,limit:5}),v=Object(l.a)(m,2),y=v[0],T=v[1],C=F(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAll();case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)}))),a);Object(r.useEffect)((function(){C()}),[]);var E=function(e,t){var n=Object(r.useMemo)((function(){return Object(w.a)(e).sort((function(e,n){return t.sortDirection?I(n.createdAt)-I(e.createdAt):I(e.createdAt)-I(n.createdAt)}))}),[e,t.sortDirection]);return Object(r.useMemo)((function(){switch(t.filterType){case Y:return n.filter((function(e){return e.done}));case Z:return n.filter((function(e){return!e.done}));default:return n}}),[n,t.filterType])}(u,h);Object(r.useEffect)((function(){T((function(e){return Object(i.a)(Object(i.a)({},e),{},{page:1})}))}),[h]);var A=Object(r.useMemo)((function(){return E.slice((y.page-1)*y.limit,(y.page-1)*y.limit+y.limit)}),[E,y]);return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(f.a,{container:!0,alignItems:"center",justifyContent:"center",className:"gridContainer",children:Object(g.jsx)(G.a,{maxWidth:"sm",children:Object(g.jsxs)(f.a,{container:!0,direction:"column",children:[n&&Object(g.jsx)(Q,{time:2e3,setError:a,children:n}),Object(g.jsx)(b.a,{variant:"h4",component:"h1",align:"center",children:"ToDo"}),Object(g.jsx)(P,{setTasks:p,setError:a}),Object(g.jsx)(k,{setFilter:x}),Object(g.jsx)(q,{displayedTasks:A,setTasks:p,setError:a}),Object(g.jsx)(H.a,{count:Math.ceil(E.length/y.limit),onChange:function(e,t){return T((function(e){return Object(i.a)(Object(i.a)({},e),{},{page:t})}))},page:y.page,className:"todo-pagination"})]})})})})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)($,{})}),document.getElementById("root"))},82:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.afba6475.chunk.js.map